<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>スタジオ時間貸し予約アプリ（Studio Book）｜ポートフォリオ</title>
  <meta name="description" content="3ロール（一般/ホスト/管理者）の権限分離、予約×状態遷移、Stripe Webhook による決済確定まで実装した時間貸し予約Webアプリ（Java / Spring Boot）。">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/styles.css" />
  <meta name="robots" content="noindex,nofollow,noarchive,noimageindex" />
  <meta name="googlebot" content="noindex,nofollow,noarchive,noimageindex" />
  <meta name="referrer" content="no-referrer" />

  <link rel="icon" href="icon/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="icon/favicon-32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="icon/favicon-16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="icon/apple-touch-icon.png">
  <meta name="theme-color" content="#ffffff">
</head>
<body>

  <!-- ヘッダー（トップページと同じレイアウト想定） -->
  <header class="site-header" id="top">
    <div class="container header-inner">
      <a class="brand" href="index.html" aria-label="ポートフォリオ トップへ">
        <img src="images/logox.svg" alt="N.O. Portfolio ロゴ" class="brand__logo-img" width="160" height="48" />
      </a>
      <nav class="nav" aria-label="グローバルナビゲーション">
        <button class="nav__toggle" aria-expanded="false" aria-controls="navList">MENU</button>
        <ul id="navList" class="nav__list">
          <li><a href="index.html#about">About</a></li>
          <li><a href="index.html#services">Skills</a></li>
          <li><a href="index.html#works">Works</a></li>
          <li><a href="index.html#contact">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- メインコンテンツ -->
  <main>

    <!-- Hero / 概要 -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h1 class="section__title">スタジオ時間貸し予約アプリ（Studio Book）</h1>
        </header>

        <div class="hero__inner hero__inner--detail">
          <div class="hero__copy">
            <p class="hero__lead reveal reveal-delay-1">
              <strong>予約・決済・運営管理までを一気通貫で扱う、時間貸し予約の業務Webアプリ</strong>です。<br>
              ダンススタジオやレンタルスペースなどの
              <strong>時間貸し予約</strong> を行う Web アプリケーションです。<br>
              一般ユーザーは「検索 → 予約 → 決済」までをブラウザ上で完結でき、<br>
              スタジオ提供者（ホスト）は予約・売上・レビューを一元管理、<br>
              管理者は全体のスタジオ・ユーザー・売上を統括できる
              <strong>三者ロール構成</strong>になっています。
            </p>

            <div class="hero__actions reveal reveal-delay-2">
              <a class="btn" href="https://studio-book-naoki2025-d9e2f98301ba.herokuapp.com/" target="_blank" rel="noopener noreferrer nofollow">
                デモサイトを見る
              </a>
              <a class="btn btn--ghost" href="https://github.com/fewioaghwrao/studio_book" target="_blank" rel="noopener noreferrer nofollow">
                GitHub リポジトリ
              </a>
            </div>

            <p class="hero__note reveal reveal-delay-3">
              ※デモは閲覧可能な環境の方のみご参照ください。<br>
  ※デモ環境はクラウド上で動作しています。初回アクセス時に起動待ちが発生する場合があります。<br>
              また、スタジオは架空のものとなっております。
            </p>
            <p class="hero__note reveal reveal-delay-3">
              ※決済は Stripe の Test Mode を使用しており、実際の請求は発生しません
            </p>
          </div>

          <figure class="hero__image reveal reveal-delay-3">
            <img src="images/studio-book-top.png" alt="スタジオ時間貸し予約アプリのトップ画面イメージ">
          </figure>
        </div>
      </div>
    </section>

    <!-- プロジェクト概要 -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">プロジェクト概要</h2>
        </header>

        <div class="project-summary reveal">
          <dl class="summary-list">
            <div class="summary-list__row">
              <dt>開発期間</dt>
              <dd>約1ヶ月（設計〜実装〜デプロイまで個人で一貫対応。業務要件を優先し、機能を絞って完成度を重視）</dd>
            </div>
            <div class="summary-list__row">
              <dt>開発人数</dt>
              <dd>1名（個人開発）</dd>
            </div>
            <div class="summary-list__row">
              <dt>担当範囲</dt>
              <dd>要件整理／画面設計／DB設計／バックエンド／フロントエンド／テスト／デプロイ／ドキュメント</dd>
            </div>
            <div class="summary-list__row">
              <dt>想定ユーザー</dt>
              <dd>スタジオ利用者（一般ユーザー）、スタジオオーナー（ホスト）、サービス運営者（管理者）</dd>
            </div>
            <div class="summary-list__row">
              <dt>URL</dt>
              <dd>
                デモサイト：
                <a href="https://studio-book-naoki2025-d9e2f98301ba.herokuapp.com/" target="_blank" rel="noopener noreferrer nofollow">
                  https://studio-book-naoki2025-d9e2f98301ba.herokuapp.com/
                </a>
                <br>
                GitHub：
                <a href="https://github.com/fewioaghwrao/studio_book" target="_blank" rel="noopener noreferrer nofollow">
                  https://github.com/fewioaghwrao/studio_book
                </a>
              </dd>
            </div>
          </dl>
        </div>
      </div>
    </section>

    <!-- 使用技術 -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">使用技術</h2>
        </header>

        <div class="grid cards">
          <article class="card reveal">
            <h3 class="card__title">バックエンド</h3>
            <ul class="card__list">
              <li>Java 17</li>
              <li>Spring Boot 3 / Spring MVC / Spring Security</li>
              <li>Spring Data JPA（Hibernate）</li>
              <li>Bean Validation（入力チェック）</li>
              <li>Stripe API（クレジットカード決済／Webhook による決済結果反映）</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-1">
            <h3 class="card__title">フロントエンド</h3>
            <ul class="card__list">
              <li>Thymeleaf（テンプレートエンジン）</li>
              <li>HTML / CSS / Bootstrap</li>
              <li>JavaScript（バリデーション・UI補助）</li>
              <li>FullCalendar（予約状況カレンダー表示）</li>
              <li>Chart.js（ホスト向け売上グラフ）</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-2">
            <h3 class="card__title">インフラ・その他</h3>
            <ul class="card__list">
              <li>MySQL / MariaDB</li>
              <li>Heroku（アプリケーションデプロイ）</li>
              <li>Mailgun（本番想定）／開発環境ではログ出力で検証</li>
              <li>JUnit5 / Mockito / MockMvc（Web層テスト）</li>
              <li>Git / GitHub（ソースコード管理）</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- 画面イメージ -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">画面イメージ</h2>
          <p class="section__lead">
            代表的な画面をいくつか抜粋しています。<br>
            実際の動作はデモサイトからご確認いただけます。
          </p>
        </header>

        <div class="grid works works--detail">
          <figure class="work work--plain reveal">
            <img src="images/studio-book-search.png" alt="検索画面：スタジオ一覧と条件検索" />
            <figcaption class="work__meta">
              <span class="work__tag">一般ユーザー</span>
              <h3 class="work__title">スタジオ検索・一覧画面</h3>
              <p class="work__text">
                エリアやキーワードでスタジオを検索し、料金の目安やレビュー評価を確認できます。
              </p>
            </figcaption>
          </figure>

          <figure class="work work--plain reveal reveal-delay-1">
            <img src="images/studio-book-detail.png" alt="スタジオ詳細画面" />
            <figcaption class="work__meta">
              <span class="work__tag">一般ユーザー</span>
              <h3 class="work__title">スタジオ詳細・料金計算</h3>
              <p class="work__text">
                日時を選択すると、営業時間・休館日・料金ルール（平日/休日）を考慮した金額を自動計算します。
              </p>
            </figcaption>
          </figure>

          <figure class="work work--plain reveal reveal-delay-2">
            <img src="images/studio-book-host-dashboard.png" alt="ホスト向けダッシュボード画面" />
            <figcaption class="work__meta">
              <span class="work__tag">ホスト</span>
              <h3 class="work__title">ホスト向けダッシュボード</h3>
              <p class="work__text">
                月別の予約数・売上推移、レビュー平均などをグラフで把握できます。
              </p>
            </figcaption>
          </figure>

          <figure class="work work--plain reveal reveal-delay-3">
            <img src="images/studio-book-calendar.png" alt="カレンダー画面" />
            <figcaption class="work__meta">
              <span class="work__tag">ホスト</span>
              <h3 class="work__title">カレンダー・休館日設定</h3>
              <p class="work__text">
                FullCalendar により予約状況・休館日をカレンダーで可視化しています。
              </p>
            </figcaption>
          </figure>
        </div>
      </div>
    </section>

    <!-- 機能一覧 -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">主な機能</h2>
        </header>

<p class="note reveal">
  ※本ページの「主な機能」は実装済みの内容です。末尾の「今後の改善予定」は拡張案として整理したものです。<br>
  ※操作ログ（audit_logs）は現在試作段階のため、改善予定に含めています。
</p>


        <div class="grid cards">
          <article class="card reveal">
            <h3 class="card__title">一般ユーザー機能（ROLE_GENERAL）</h3>
            <ul class="card__list">
              <li>スタジオ検索（キーワード／エリア）</li>
              <li>スタジオ詳細閲覧、設備・料金の確認</li>
              <li>日時選択による料金自動計算（15分単位）</li>
              <li>Stripe によるクレジットカード決済</li>
              <li>マイページでの予約一覧・キャンセル</li>
              <li>レビュー投稿・編集・削除</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-1">
            <h3 class="card__title">ホスト機能（ROLE_HOST）</h3>
            <ul class="card__list">
              <li>自店舗のスタジオ登録・編集・公開/非公開切り替え</li>
              <li>予約一覧・売上一覧の閲覧</li>
              <li>営業時間（business_hours）の設定</li>
              <li>休館日（closures）の登録・管理</li>
              <li>料金ルール（price_rules）の設定（平日/休日、倍率・固定料金）</li>
              <li>レビューへの返信、公開/非公開の管理</li>
              <li>ダッシュボードで売上・稼働率・レビュー平均を可視化</li>
            </ul>
          </article>

          <article class="card reveal reveal-delay-2">
            <h3 class="card__title">管理者機能（ROLE_ADMIN）</h3>
            <ul class="card__list">
              <li>ユーザー／ホスト／スタジオの一覧・詳細管理</li>
              <li>全体の予約・売上状況の確認</li>
              <li>不適切なレビューの非表示処理</li>
              <li>システム設定（税率・手数料率など）の変更</li>
            </ul>
          </article>
        </div>
      </div>
    </section>

    <!-- アーキテクチャ & DB -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">アーキテクチャ・DB設計</h2>
        </header>

        <div class="grid grid--2col">
          <div class="reveal">
            <h3 class="h3">レイヤードアーキテクチャ</h3>
<p class="mt-2">
  詳細な設計方針は
  <a href="https://github.com/fewioaghwrao/studio_book/blob/main/docs/ARCHITECTURE.md"
     target="_blank"
     rel="noopener noreferrer nofollow">
    docs/ARCHITECTURE.md
  </a>
  にまとめています。
</p>

              Controller / Service / Repository / Entity からなる
              <strong>レイヤードアーキテクチャ</strong> で構成しています。
            </p>
            <ul class="list">
              <li>Controller：ルーティングと画面遷移制御</li>
              <li>Service：業務ロジック（料金計算、営業判定、権限制御）</li>
              <li>Repository：Spring Data JPA による DB アクセス</li>
              <li>Entity：テーブル構造に対応したドメインモデル</li>
            </ul>

            <pre class="code-block"><code>RoomController → RoomService → RoomRepository → Room(Entity)
ReservationController → ReservationService → ReservationRepository → Reservation(Entity)
HostStatsController → HostStatsService → ReservationRepository / ReviewRepository</code></pre>
          </div>

          <div class="reveal reveal-delay-1">
            <h3 class="h3">主なテーブル</h3>
            <ul class="list">
              <li><strong>users, roles, verification_tokens</strong>：ユーザーと認証・認可</li>
              <li><strong>rooms</strong>：スタジオ情報</li>
              <li><strong>reservations</strong>：予約情報</li>
              <li><strong>reservation_charge_items</strong>：料金明細（時間スライス単位）</li>
              <li><strong>business_hours</strong>：曜日ごとの営業時間</li>
              <li><strong>closures</strong>：休館日情報</li>
              <li><strong>price_rules</strong>：料金ルール（平日/休日・倍率など）</li>
              <li><strong>reviews</strong>：レビュー・ホスト返信</li>
              <li><strong>admin_settings</strong>：税率・手数料などの設定</li>
              <li><strong>audit_logs</strong>：操作ログ（試作：現状はサンプルデータ）</li>
            </ul>

            <p class="mt-2">
              ER 図は GitHub の <code>docs/diagrams</code> ディレクトリ、および README に掲載しています。
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- 実装上の工夫・テスト -->
    <section class="section section--alt">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">実装上の工夫・テスト</h2>
        </header>

        <div class="grid grid--2col">
          <div class="reveal">
            <h3 class="h3">実装面で意識したポイント</h3>
            <ul class="list">
              <li>予約日時が営業時間内・休館日外であることのチェック</li>
              <li>15分単位の時間スライスに分解した料金計算ロジック</li>
              <li>Stripe 決済と予約ステータスの連動（Webhook を利用）</li>
              <li>Bean Validation による入力チェックとエラーメッセージ表示</li>
              <li>認可（ROLE_GENERAL / ROLE_HOST / ROLE_ADMIN）ごとのアクセス制御</li>
              <li>ホスト／管理者が自分のリソース以外を操作できないようなガード処理</li>
              <li>FullCalendar・Chart.js を用いた視覚的な UI 提供</li>
              <li>Stripe Webhook を利用し、決済結果に応じて予約ステータスを確定させる設計</li>
            </ul>
          </div>

          <div class="reveal reveal-delay-1">
            <h3 class="h3">テスト</h3>
            <ul class="list">
              <li>JUnit5 + Spring Boot Test を用いた Web 層テスト</li>
              <li>MockMvc による Controller + View の結合テスト</li>
              <li>Mockito を使った Service のモック・例外パターンの検証</li>
              <li>正常系・異常系を分けたテストケース設計</li>
              <li>Stripe Webhook の署名検証や異常系の動作確認</li>
            </ul>
            <p class="mt-2">
              テストコード例は GitHub リポジトリの <code>src/test/java</code> 以下にまとめています。
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- 学び・今後の展望 -->
    <section class="section">
      <div class="container">
        <header class="section__head reveal">
          <h2 class="section__title">学び・今後の改善予定</h2>
        </header>

        <div class="reveal">
          <h3 class="h3">学び</h3>
          <ul class="list">
            <li>Spring Boot を用いたフルスタック Web アプリ開発の一連の流れ</li>
            <li>認証・認可、ロールによる画面の出し分けの実装</li>
            <li>料金計算・営業時間・予約状態など、業務ロジックの整理とテスト</li>
            <li>外部サービス（Stripe / Mailgun）との連携とエラー処理</li>
          </ul>

          <h3 class="h3 mt-3">今後の改善予定</h3>
          <ul class="list">
            <li>クーポン・割引コード機能の追加</li>
            <li>より柔軟な料金体系（時間帯別料金、繁忙期設定など）</li>
            <li>レビュー通報機能やホスト・管理者向け通知強化</li>
            <li>FullCalendar を用いたドラッグ＆ドロップによる休館日登録（操作性向上）</li>
            <li>レスポンシブデザインのさらなるブラッシュアップ</li>
            <li>操作ログ（audit_logs）の本実装：重要操作時の自動記録（誰が・いつ・何を）／検索・閲覧UIの追加</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- リンクまとめ -->
    <section class="section section--cta">
      <div class="container cta reveal">
        <h2 class="section__title">リンク</h2>
        <p class="mb-2">
          ソースコードは下記からご覧いただけます。
        </p>
        <p class="mt-1">
          GitHub リポジトリ：<br>
          <a href="https://github.com/fewioaghwrao/studio_book" target="_blank" rel="noopener noreferrer nofollow">
            https://github.com/fewioaghwrao/studio_book
          </a>
        </p>
        <p class="mt-2">
          <a class="btn btn--ghost" href="index.html#works">Works 一覧へ戻る</a>
        </p>
      </div>
    </section>
  </main>

  <!-- フッター -->
  <footer class="site-footer">
    <div class="container footer-inner">
      <small>※本ページは検索避け（noindex）設定済み。URLをご存知の方のみの想定公開です。</small>
      <a href="#top" class="to-top" aria-label="ページ上部へ">↑</a>
    </div>
  </footer>

  <!-- スクロールアニメーション & ナビ制御（トップと同様） -->
  <script>
    // スクロールアニメーション
    (function(){
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        document.querySelectorAll('.reveal').forEach(el => el.classList.add('is-visible'));
        return;
      }
      const io = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
            io.unobserve(entry.target);
          }
        });
      }, { threshold: 0.12 });
      document.querySelectorAll('.reveal').forEach(el => io.observe(el));
    })();

    // モバイルナビゲーション制御
    (function(){
      const toggle = document.querySelector('.nav__toggle');
      const nav = document.querySelector('.nav__list');
      const navLinks = document.querySelectorAll('.nav__list a');

      if (!toggle || !nav) return;

      toggle.addEventListener('click', function() {
        const isOpen = nav.classList.contains('is-open');
        if (isOpen) {
          nav.classList.remove('is-open');
          toggle.setAttribute('aria-expanded', 'false');
        } else {
          nav.classList.add('is-open');
          toggle.setAttribute('aria-expanded', 'true');
        }
      });

      navLinks.forEach(link => {
        link.addEventListener('click', function() {
          nav.classList.remove('is-open');
          toggle.setAttribute('aria-expanded', 'false');
        });
      });

      document.addEventListener('click', function(e) {
        if (!nav.contains(e.target) && !toggle.contains(e.target)) {
          nav.classList.remove('is-open');
          toggle.setAttribute('aria-expanded', 'false');
        }
      });
    })();
  </script>
</body>
</html>

